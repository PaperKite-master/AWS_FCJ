<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=/AWS_FCJ/images/favicon.png type=image/png><title>Blog 1 :: Báo cáo thực tập</title>
<link href=/AWS_FCJ/css/nucleus.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/fontawesome-all.min.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/hybrid.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/featherlight.min.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/perfect-scrollbar.min.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/auto-complete.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/atom-one-dark-reasonable.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/theme.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/hugo-theme.css?1765300252 rel=stylesheet><link href=/AWS_FCJ/css/theme-workshop.css?1765300252 rel=stylesheet><script src=/AWS_FCJ/js/jquery-3.3.1.min.js?1765300252></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/AWS_FCJ/vi/3-blogstranslated/3.1-blog1/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/AWS_FCJ/js/lunr.min.js?1765300252></script><script type=text/javascript src=/AWS_FCJ/js/auto-complete.js?1765300252></script><script type=text/javascript>var baseurl="https://paperkite-master.github.io/AWS_FCJ//vi"</script><script type=text/javascript src=/AWS_FCJ/js/search.js?1765300252></script></div><div class=highlightable><ul class=topics><li data-nav-id=/AWS_FCJ/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.2-week2/ title="Worklog Tuần 2" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.2-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.3-week3/ title="Worklog Tuần 3" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.3-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.4-week4/ title="Worklog Tuần 4" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.4-week4/><b>1.4. </b>Worklog Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.5-week5/ title="Worklog Tuần 5" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.6-week6/ title="Worklog Tuần 6" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.7-week7/ title="Worklog Tuần 7" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.8-week8/ title="Worklog Tuần 8" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.9-week9/ title="Worklog Tuần 9" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class=dd-item><a href=/AWS_FCJ/vi/1-worklog/1.12-week12/><b>1.12 </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/AWS_FCJ/vi/2-proposal/ title=Proposal class=dd-item><a href=/AWS_FCJ/vi/2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=/AWS_FCJ/vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/AWS_FCJ/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class="dd-item
active"><a href=/AWS_FCJ/vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/3-blogstranslated/3.2-blog2/ title="Blog 2" class=dd-item><a href=/AWS_FCJ/vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/AWS_FCJ/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=/AWS_FCJ/vi/4-eventparticipated/><b>4.2 </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/AWS_FCJ/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=/AWS_FCJ/vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=/AWS_FCJ/vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/ title=Workshop class=dd-item><a href=/AWS_FCJ/vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.3-setup-amazon-bedrock/5.3.1-check-model/ title="Chuẩn bị Amazon-Bedrock" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.3-setup-amazon-bedrock/5.3.1-check-model/><b>5.3.1 </b>Chuẩn bị Amazon-Bedrock
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.1-workshop-overview/ title="Tổng quan" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Tổng quan
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.4-setup_lambda/ title="Chuẩn bị Lambda" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.4-setup_lambda/><b>5.4. </b>Chuẩn bị Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.5-setup-api-gateway/ title="Chuẩn bị API gateway" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.5-setup-api-gateway/><b>5.5 </b>Chuẩn bị API gateway
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.6-monitoring-cloudwatch/ title="Giám sát bằng CloudWatch" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.6-monitoring-cloudwatch/><b>5.6. </b>Giám sát bằng CloudWatch
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/5-workshop/5.7-setup-s3/ title="Chuẩn bị s3" class=dd-item><a href=/AWS_FCJ/vi/5-workshop/5.7-setup-s3/><b>5.7. </b>Chuẩn bị s3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/AWS_FCJ/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=/AWS_FCJ/vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/AWS_FCJ/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=/AWS_FCJ/vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://paperkite-master.github.io/AWS_FCJ/3-blogstranslated/3.1-blog1/>English</option><option id=vi value=https://paperkite-master.github.io/AWS_FCJ/vi/3-blogstranslated/3.1-blog1/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/AWS_FCJ/vi/>Báo cáo thực tập</a> > <a href=/AWS_FCJ/vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Blog 1</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#tổng-quan>Tổng quan</a></li><li><a href=#kiến-trúc-và-lưu-ý>Kiến trúc và lưu ý</a></li><li><a href=#tài-khoản-ví-dụ>Tài khoản ví dụ</a></li><li><a href=#các-bước-thực-hiện>Các bước thực hiện</a><ul><li><a href=#bước-1-kiểm-tra-efs-trong-tài-khoản-111111111111>Bước 1: Kiểm tra EFS trong tài khoản 111111111111</a></li><li><a href=#bước-2-ghi-nhận-thông-tin-mạng-efs>Bước 2: Ghi nhận thông tin mạng EFS</a></li><li><a href=#bước-3-ghi-nhận-thông-tin-cụm-eks-ở-tài-khoản-222222222222>Bước 3: Ghi nhận thông tin cụm EKS ở tài khoản 222222222222</a></li><li><a href=#bước-4-tạo-vpc-peering-giữa-hai-vpc>Bước 4: Tạo VPC Peering giữa hai VPC</a></li><li><a href=#bước-5-chấp-nhận-peering-ở-tài-khoản-efs>Bước 5: Chấp nhận peering ở tài khoản EFS</a></li><li><a href=#bước-6-cập-nhật-route-tables-ở-cả-hai-tài-khoản>Bước 6: Cập nhật route tables ở cả hai tài khoản</a></li><li><a href=#bước-7-mở-inbound-nfs-cho-efs-security-group>Bước 7: Mở inbound NFS cho EFS Security Group</a></li><li><a href=#bước-8-tạo-route-53-private-hosted-zone-trong-tài-khoản-eks>Bước 8: Tạo Route 53 Private Hosted Zone trong tài khoản EKS</a></li><li><a href=#bước-9-tạo-iam-role-cross-account-trong-tài-khoản-efs>Bước 9: Tạo IAM role cross-account trong tài khoản EFS</a></li><li><a href=#bước-10-cấu-hình-cụm-eks-tài-khoản-222222222222>Bước 10: Cấu hình cụm EKS (tài khoản 222222222222)</a></li><li><a href=#bước-11-tạo-storageclass-và-ứng-dụng-demo>Bước 11: Tạo StorageClass và ứng dụng demo</a></li></ul></li><li><a href=#kết-luận>Kết luận</a></li><li><a href=#tác-giả>Tác giả</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 1</h1><h1 id=đơn-giản-hóa-quản-lý-lưu-trữ-đa-tài-khoản-với-amazon-efs-và-amazon-eks>Đơn giản hóa quản lý lưu trữ đa tài khoản với Amazon EFS và Amazon EKS</h1><p>bởi Samyak Kathane, Raja Pamuluri và Venkat Penmetsa – 01 OCT 2025<br>Thuộc các danh mục <a href=https://aws.amazon.com/blogs/storage/category/storage/amazon-elastic-file-system-efs/>Amazon EFS</a>, <a href=https://aws.amazon.com/blogs/storage/category/compute/amazon-kubernetes-service/>Amazon EKS</a>, <a href=https://aws.amazon.com/blogs/storage/category/learning-levels/expert-400/>Expert (400)</a>, <a href=https://aws.amazon.com/blogs/storage/category/post-types/technical-how-to/>Technical How-to</a> | <a href=https://aws.amazon.com/blogs/storage/mastering-cross-account-amazon-efs-seamlessly-mount-amazon-efs-on-amazon-eks-cluster/>Permalink</a> | <a href=https://aws.amazon.com/blogs/storage/mastering-cross-account-amazon-efs-seamlessly-mount-amazon-efs-on-amazon-eks-cluster/#Comments>Comments</a></p><h2 id=tổng-quan>Tổng quan</h2><p>Các tổ chức ngày càng dùng chiến lược đa tài khoản AWS để tăng bảo mật, quản trị và tối ưu vận hành. Với Amazon EFS, bạn có thể chia sẻ tệp POSIX linh hoạt giữa nhiều tài khoản, đồng thời gắn kết (mount) cùng một file system vào nhiều cụm Amazon EKS. Bài viết hướng dẫn thiết lập cross-account mount cho một file system EFS đặt ở tài khoản <strong>shared services</strong> và gắn vào cụm EKS ở tài khoản khác.</p><h2 id=kiến-trúc-và-lưu-ý>Kiến trúc và lưu ý</h2><ul><li>Thiết lập kết nối mạng an toàn giữa VPC ở hai tài khoản qua VPC peering hoặc AWS Transit Gateway.</li><li>Triển khai EFS dạng Regional, tạo mount target ở mọi AZ để giảm chi phí truyền dữ liệu liên AZ.</li><li>Sử dụng <strong>AZ ID</strong> (ví dụ <code>use1-az1</code>) thay vì tên AZ (ví dụ <code>us-east-1a</code>) để bảo đảm trỏ đúng vị trí vật lý giữa các tài khoản.</li><li>Nên mount bằng File System ID và dùng Amazon Route 53 private hosted zone để phân giải DNS nội bộ.</li><li>Cài AWS EFS CSI Driver ≥ 1.36.0 trên node EKS; tham khảo hướng dẫn <a href=https://docs.aws.amazon.com/efs/latest/ug/installing-amazon-efs-utils.html>cài amazon-efs-utils</a>.</li></ul><h2 id=tài-khoản-ví-dụ>Tài khoản ví dụ</h2><ul><li><strong>Tài khoản EFS (shared services):</strong> <code>111111111111</code>, File System ID: <code>fs-0c492f870b90c1c9a</code>.</li><li><strong>Tài khoản EKS:</strong> <code>222222222222</code>, cụm <code>EKS-cross-account-cluster</code>.</li></ul><h2 id=các-bước-thực-hiện>Các bước thực hiện</h2><h3 id=bước-1-kiểm-tra-efs-trong-tài-khoản-111111111111>Bước 1: Kiểm tra EFS trong tài khoản 111111111111</h3><ol><li>Vào EFS console, chọn Region phù hợp và mở file system ID.</li><li>Ở tab <strong>Network</strong>, bảo đảm mount target đã tồn tại ở tất cả AZ. Nếu thiếu, tạo theo hướng dẫn <a href=https://docs.aws.amazon.com/efs/latest/ug/accessing-fs.html#manage-mt-console>Managing mount targets</a>.</li></ol><h3 id=bước-2-ghi-nhận-thông-tin-mạng-efs>Bước 2: Ghi nhận thông tin mạng EFS</h3><ol><li>Từ tab <strong>Network</strong>, lưu <strong>VPC ID</strong>, <strong>AZ ID</strong> và <strong>IPv4</strong> của từng mount target. Thông tin này dùng để cấu hình Route 53 và kiểm tra kết nối.</li></ol><h3 id=bước-3-ghi-nhận-thông-tin-cụm-eks-ở-tài-khoản-222222222222>Bước 3: Ghi nhận thông tin cụm EKS ở tài khoản 222222222222</h3><ol><li>Vào EKS console, chọn cụm <code>EKS-cross-account-cluster</code> và Region tương ứng.</li><li>Ở tab <strong>Networking</strong>, ghi <strong>VPC ID</strong> và <strong>Cluster security group</strong>.</li></ol><h3 id=bước-4-tạo-vpc-peering-giữa-hai-vpc>Bước 4: Tạo VPC Peering giữa hai VPC</h3><ol><li>Từ tài khoản EKS (222222222222), vào <strong>VPC > Peering connections > Create peering connection</strong>.</li><li>Chọn <strong>VPC requester</strong> là VPC của EKS (Step 3), <strong>Account</strong> là <strong>Another Account</strong> và nhập ID tài khoản EFS <code>111111111111</code>.</li><li>Region: chọn cùng Region (ví dụ <code>us-west-1</code>). <strong>VPC accepter</strong>: dán VPC ID của EFS (Step 2).</li><li>Đảm bảo CIDR hai VPC không trùng. Chọn <strong>Create</strong>.</li></ol><h3 id=bước-5-chấp-nhận-peering-ở-tài-khoản-efs>Bước 5: Chấp nhận peering ở tài khoản EFS</h3><ol><li>Đăng nhập tài khoản 111111111111, vào <strong>VPC > Peering connections</strong>.</li><li>Chọn yêu cầu trạng thái <em>Pending acceptance</em> và bấm <strong>Accept request</strong>. Trạng thái chuyển sang <em>Active</em>.</li></ol><h3 id=bước-6-cập-nhật-route-tables-ở-cả-hai-tài-khoản>Bước 6: Cập nhật route tables ở cả hai tài khoản</h3><ol><li>Trong tài khoản EKS, mở <strong>Route tables</strong>, chọn route table mà node EKS sử dụng, <strong>Edit routes</strong>.</li><li>Thêm route: <strong>Destination</strong> = CIDR của VPC EFS; <strong>Target</strong> = Peering connection đã tạo. Lưu thay đổi.</li><li>Lặp lại trong tài khoản EFS: Destination = CIDR của VPC EKS; Target = cùng peering connection.</li></ol><h3 id=bước-7-mở-inbound-nfs-cho-efs-security-group>Bước 7: Mở inbound NFS cho EFS Security Group</h3><ol><li>Ở tài khoản EFS, tab <strong>Network</strong> của file system, sao chép Security Group ID gán cho mount targets.</li><li>Vào <strong>VPC > Security groups</strong>, chọn SG đó, <strong>Edit inbound rules</strong>.</li><li>Thêm rule:<ul><li><strong>Type:</strong> NFS</li><li><strong>Source:</strong> <code>222222222222/sg-&lt;cluster-sg-id></code> (Owner ID của tài khoản EKS + SG của cụm EKS từ Step 3).</li></ul></li></ol><h3 id=bước-8-tạo-route-53-private-hosted-zone-trong-tài-khoản-eks>Bước 8: Tạo Route 53 Private Hosted Zone trong tài khoản EKS</h3><ol><li>Tạo một private hosted zone cho từng AZ ID theo mẫu:<br><code>&lt;availability-zone-id>.&lt;file-system-id>.efs.&lt;region>.amazonaws.com</code></li><li>Gắn hosted zone với VPC của EKS.</li><li>Trong mỗi hosted zone, tạo bản ghi A trỏ tới địa chỉ IP mount target tương ứng (lấy từ Step 2).<br>Ví dụ Region <code>us-west-1</code> có AZ ID <code>usw1-az3</code> và <code>usw1-az1</code>:<ul><li><code>usw1-az3.fs-0c492f870b90c1c9a.efs.us-west-1.amazonaws.com</code> → IP mount target AZ <code>usw1-az3</code></li><li><code>usw1-az1.fs-0c492f870b90c1c9a.efs.us-west-1.amazonaws.com</code> → IP mount target AZ <code>usw1-az1</code></li></ul></li></ol><h3 id=bước-9-tạo-iam-role-cross-account-trong-tài-khoản-efs>Bước 9: Tạo IAM role cross-account trong tài khoản EFS</h3><ol><li>Đặt biến môi trường:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export EKS_ACCOUNT_ID<span style=color:#f92672>=</span><span style=color:#ae81ff>222222222222</span>
</span></span><span style=display:flex><span>export EFS_ACCOUNT_ID<span style=color:#f92672>=</span><span style=color:#ae81ff>111111111111</span>
</span></span></code></pre></div></li><li>Tạo trust policy cho role <code>EFSCrossAccountAccessRole</code> cho phép tài khoản EKS assume:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt; efs-cross-account-trust-policy.json <span style=color:#e6db74>&lt;&lt;&#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &#34;Version&#34;: &#34;2012-10-17&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &#34;Statement&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &#34;Principal&#34;: { &#34;AWS&#34;: &#34;arn:aws:iam::222222222222:root&#34; },
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &#34;Action&#34;: &#34;sts:AssumeRole&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  ]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>aws iam create-role <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --role-name EFSCrossAccountAccessRole <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --assume-role-policy-document file://efs-cross-account-trust-policy.json
</span></span></code></pre></div></li><li>Tải policy mẫu và giới hạn Resource theo ARN file system:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -s https://raw.githubusercontent.com/kubernetes-sigs/aws-efs-csi-driver/master/examples/kubernetes/cross_account_mount/iam-policy-examples/describe-mount-target-example.json -o describe_mt.json
</span></span><span style=display:flex><span>FS_ARN<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>aws efs describe-file-systems --file-system-id fs-0c492f870b90c1c9a --query <span style=color:#e6db74>&#39;FileSystems[].FileSystemArn&#39;</span> --output text<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#34;s#\&#34;Resource\&#34; : \&#34;\\*\&#34;#\&#34;Resource\&#34; : \&#34;</span><span style=color:#e6db74>${</span>FS_ARN<span style=color:#e6db74>}</span><span style=color:#e6db74>\&#34;#g&#34;</span> describe_mt.json
</span></span><span style=display:flex><span>aws iam create-policy --policy-name EFSDescribeMountTargetIAMPolicy --policy-document file://describe_mt.json
</span></span><span style=display:flex><span>aws iam attach-role-policy <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --role-name EFSCrossAccountAccessRole <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --policy-arn arn:aws:iam::111111111111:policy/EFSDescribeMountTargetIAMPolicy
</span></span></code></pre></div></li></ol><h3 id=bước-10-cấu-hình-cụm-eks-tài-khoản-222222222222>Bước 10: Cấu hình cụm EKS (tài khoản 222222222222)</h3><ol><li>Cài tiện ích:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sLO https://github.com/eksctl-io/eksctl/releases/latest/download/eksctl_Linux_amd64.tar.gz
</span></span><span style=display:flex><span>tar -xzf eksctl_Linux_amd64.tar.gz -C /tmp
</span></span><span style=display:flex><span>sudo mv /tmp/eksctl /usr/local/bin
</span></span></code></pre></div></li><li>Cập nhật kubeconfig:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws eks update-kubeconfig --name EKS-cross-account-cluster --region us-west-1
</span></span></code></pre></div></li><li>Liên kết OIDC provider (nếu chưa có):<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>eksctl utils associate-iam-oidc-provider <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --region us-west-1 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --cluster EKS-cross-account-cluster <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --approve
</span></span></code></pre></div></li><li>Tạo IAM role cho Amazon EFS CSI driver và service account:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export ROLE<span style=color:#f92672>=</span>AmazonEKS_EFS_CSI_DriverRole
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>eksctl create iamserviceaccount <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --name efs-csi-controller-sa <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --namespace kube-system <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --cluster EKS-cross-account-cluster <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --role-name $ROLE <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --attach-policy-arn arn:aws:iam::aws:policy/service-role/AmazonEFSCSIDriverPolicy <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --approve
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>aws iam attach-role-policy <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --role-name $ROLE <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --policy-arn arn:aws:iam::aws:policy/AmazonElasticFileSystemClientFullAccess
</span></span></code></pre></div></li><li>Tạo policy cho phép CSI driver assume role cross-account:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt; allow-cross-account-assume-policy.json <span style=color:#e6db74>&lt;&lt;&#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>{
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &#34;Version&#34;: &#34;2012-10-17&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  &#34;Statement&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Effect&#34;: &#34;Allow&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Action&#34;: &#34;sts:AssumeRole&#34;,
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;Resource&#34;: &#34;arn:aws:iam::111111111111:role/EFSCrossAccountAccessRole&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>aws iam create-policy <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --policy-name AssumeCrossAccountEFSRole <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --policy-document file://allow-cross-account-assume-policy.json
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>aws iam attach-role-policy <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --role-name $ROLE <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --policy-arn arn:aws:iam::222222222222:policy/AssumeCrossAccountEFSRole
</span></span></code></pre></div></li><li>Tạo secret chứa role ARN để CSI driver dùng:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl create secret generic x-account <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --namespace kube-system <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --from-literal<span style=color:#f92672>=</span>awsRoleArn<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;arn:aws:iam::111111111111:role/EFSCrossAccountAccessRole&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --from-literal<span style=color:#f92672>=</span>crossaccount<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;true&#34;</span>
</span></span></code></pre></div></li><li>Cài add-on EFS CSI driver:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>eksctl create addon <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --cluster EKS-cross-account-cluster <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --name aws-efs-csi-driver <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --service-account-role-arn arn:aws:iam::222222222222:role/<span style=color:#e6db74>${</span>ROLE<span style=color:#e6db74>}</span>
</span></span></code></pre></div></li></ol><h3 id=bước-11-tạo-storageclass-và-ứng-dụng-demo>Bước 11: Tạo StorageClass và ứng dụng demo</h3><ol><li><code>sc.yaml</code> – StorageClass bật tùy chọn cross-account:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>storage.k8s.io/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>StorageClass</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>efs-sc</span>
</span></span><span style=display:flex><span><span style=color:#f92672>provisioner</span>: <span style=color:#ae81ff>efs.csi.aws.com</span>
</span></span><span style=display:flex><span><span style=color:#f92672>mountOptions</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>tls</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>iam</span>
</span></span><span style=display:flex><span>  - <span style=color:#ae81ff>crossaccount  </span> <span style=color:#75715e># Cho phép mount chéo tài khoản</span>
</span></span><span style=display:flex><span><span style=color:#f92672>parameters</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>provisioningMode</span>: <span style=color:#ae81ff>efs-ap</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>fileSystemId</span>: <span style=color:#ae81ff>fs-0c492f870b90c1c9a</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>directoryPerms</span>: <span style=color:#e6db74>&#34;700&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>csi.storage.k8s.io/provisioner-secret-name</span>: <span style=color:#ae81ff>x-account</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>csi.storage.k8s.io/provisioner-secret-namespace</span>: <span style=color:#ae81ff>kube-system</span>
</span></span></code></pre></div></li><li><code>app.yaml</code> – PVC và Pod mẫu:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>PersistentVolumeClaim</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>efs-claim</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>efs-demo</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>accessModes</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>ReadWriteMany</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>storageClassName</span>: <span style=color:#ae81ff>efs-sc</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>resources</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>requests</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>storage</span>: <span style=color:#ae81ff>5Gi</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Pod</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>efs-app</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>efs-demo</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>containers</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>app</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>image</span>: <span style=color:#ae81ff>centos:7</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>command</span>: [<span style=color:#e6db74>&#34;/bin/sh&#34;</span>]
</span></span><span style=display:flex><span>      <span style=color:#f92672>args</span>: [<span style=color:#e6db74>&#34;-c&#34;</span>, <span style=color:#e6db74>&#34;while true; do echo $(date -u) &gt;&gt; /data/out; sleep 5; done&#34;</span>]
</span></span><span style=display:flex><span>      <span style=color:#f92672>volumeMounts</span>:
</span></span><span style=display:flex><span>        - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>persistent-storage</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>mountPath</span>: <span style=color:#ae81ff>/data</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>persistent-storage</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>persistentVolumeClaim</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>claimName</span>: <span style=color:#ae81ff>efs-claim</span>
</span></span></code></pre></div></li><li>Triển khai:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl create namespace efs-demo
</span></span><span style=display:flex><span>kubectl apply -f sc.yaml
</span></span><span style=display:flex><span>kubectl apply -f app.yaml
</span></span></code></pre></div></li><li>Kiểm tra:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get sc
</span></span><span style=display:flex><span>kubectl get pvc -n efs-demo
</span></span><span style=display:flex><span>kubectl get pv
</span></span><span style=display:flex><span>kubectl get pod -n efs-demo
</span></span><span style=display:flex><span>kubectl exec -it efs-app -n efs-demo -- cat /data/out
</span></span></code></pre></div></li></ol><h2 id=kết-luận>Kết luận</h2><p>Triển khai cross-account mount cho Amazon EFS giúp chia sẻ dữ liệu an toàn giữa nhiều tài khoản AWS, giữ được tính cô lập nhưng vẫn cộng tác hiệu quả. Việc cấu hình đúng VPC peering, route tables, security groups và phân giải DNS qua Route 53, kết hợp quyền IAM và EFS CSI Driver, cho phép các cụm Amazon EKS truy cập một file system EFS chung mà không cần trùng lặp dữ liệu, tối ưu chi phí và vận hành.</p><h2 id=tác-giả>Tác giả</h2><p><strong>Samyak Kathane</strong> – Senior Solutions Architect chuyên về lưu trữ AWS (Amazon EFS), hỗ trợ khách hàng xây dựng hệ thống tin cậy, hiệu năng cao và tối ưu chi phí.<br><strong>Raja Pamuluri</strong> – Senior Storage Solutions Architect tập trung lĩnh vực Energy, giúp khách hàng thiết kế và triển khai giải pháp lưu trữ đám mây quy mô lớn.<br><strong>Venkat Penmetsa</strong> – Senior Technical Account Manager, chuyên về Amazon EKS, hỗ trợ khách hàng vận hành và tối ưu Kubernetes trên AWS.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/AWS_FCJ/vi/3-blogstranslated/ title="Các bài blogs đã dịch"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/AWS_FCJ/vi/3-blogstranslated/3.2-blog2/ title="Blog 2" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/AWS_FCJ/js/clipboard.min.js?1765300252></script><script src=/AWS_FCJ/js/perfect-scrollbar.min.js?1765300252></script><script src=/AWS_FCJ/js/perfect-scrollbar.jquery.min.js?1765300252></script><script src=/AWS_FCJ/js/jquery.sticky.js?1765300252></script><script src=/AWS_FCJ/js/featherlight.min.js?1765300252></script><script src=/AWS_FCJ/js/highlight.pack.js?1765300252></script><script>hljs.initHighlightingOnLoad()</script><script src=/AWS_FCJ/js/modernizr.custom-3.6.0.js?1765300252></script><script src=/AWS_FCJ/js/learn.js?1765300252></script><script src=/AWS_FCJ/js/hugo-learn.js?1765300252></script><link href=/AWS_FCJ/mermaid/mermaid.css?1765300252 rel=stylesheet><script src=/AWS_FCJ/mermaid/mermaid.js?1765300252></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>